;???????????? ?????????????????? ?? 64 ???????? ?
;?????????????? ????????????. ??? ????????? ?????
;???????????? ????????? ???????????? ????? (16-?? ?????? ??????????)
    
;Xn+1 = (aXn + c) mod m

.equ list, 0x800
.equ out_c, 0x900
.equ out_dc, 0xA00
default: .ascii "Hello, it's me I was wondering if after all these years Ded came"
    
.text
.global __reset
    __reset:
    
    mov #31, W2	    ;a
    mov #193, W3    ;c
    mov #606, W4    ;m
    mov #list, W5
    mov #25, W1
    mov W1, [W5]
    
    do #62, end1
	mov [W5++], W1
	mul.ss W1, W2, W6
	add W3, W6, W6
	repeat #17
	    div.s W6, W4
	 mov W1, [W5]
    end1: nop
    
    mov #tblpage(default), W0
    mov W0, PSVPAG
    mov #tbloffset(default), W6
    mov #list, W5
    mov #out_c, W9
    
    do #63, end2
	tblrdl.b [W6++], W1
	xor W1, [W5++], [W9++]	
    end2: nop
    
    mov #out_c, W6
    mov #list, W5
    mov #out_dc, W9
    
    do #63, end3
	mov [W6++], W1
	xor W1, [W5++], [W9++]	
    end3: nop
    
    nop
.end
    

